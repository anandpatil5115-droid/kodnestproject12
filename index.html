<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placement Prep | Ace Your Placement</title>

    <!-- React, ReactDOM, Babel, React Router, Lucide Icons, Recharts, and Tailwind CDNs -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/react-router-dom@6.22.3/umd/react-router-dom.production.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    <script src="https://unpkg.com/recharts/umd/Recharts.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        // Tailwind Configuration
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: 'hsl(245, 58%, 51%)',
                            light: 'hsl(245, 58%, 65%)',
                            dark: 'hsl(245, 58%, 40%)',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Lucide icon resizing fix */
        svg {
            display: inline-block;
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-900">
    <div id="root">
        <div
            style="display: flex; height: 100vh; align-items: center; justify-content: center; font-family: sans-serif; color: #6366f1;">
            <div style="text-align: center;">
                <div
                    style="width: 40px; height: 40px; border: 3px solid #e0e7ff; border-top-color: #6366f1; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 16px;">
                </div>
                <p style="font-weight: 500;">Loading Placement Prep...</p>
            </div>
        </div>
    </div>

    <style>
        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>

    <script type="text/babel">
        const { useState, useEffect, createElement } = React;
        const {
            HashRouter,
            Routes,
            Route,
            Link,
            useNavigate,
            Outlet,
            useLocation
        } = ReactRouterDOM;

        const {
            Radar, RadarChart, PolarGrid, PolarAngleAxis, PolarRadiusAxis, ResponsiveContainer
        } = Recharts;

        // --- Dashboard Components ---

        const Card = ({ title, children, className = "" }) => (
            <div className={`bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden ${className}`}>
                {title && (
                    <div className="px-6 py-4 border-b border-slate-100 bg-slate-50/50">
                        <h3 className="font-bold text-slate-800">{title}</h3>
                    </div>
                )}
                <div className="p-6">
                    {children}
                </div>
            </div>
        );

        const ReadinessScore = ({ score }) => {
            const size = 200;
            const strokeWidth = 12;
            const center = size / 2;
            const radius = (size - strokeWidth) / 2;
            const circumference = 2 * Math.PI * radius;
            const offset = circumference - (score / 100) * circumference;

            return (
                <div className="flex flex-col items-center justify-center py-4">
                    <div className="relative" style={{ width: size, height: size }}>
                        <svg className="transform -rotate-90" width={size} height={size}>
                            <circle
                                cx={center}
                                cy={center}
                                r={radius}
                                fill="transparent"
                                stroke="#f1f5f9"
                                strokeWidth={strokeWidth}
                            />
                            <circle
                                cx={center}
                                cy={center}
                                r={radius}
                                fill="transparent"
                                stroke="hsl(245, 58%, 51%)"
                                strokeWidth={strokeWidth}
                                strokeDasharray={circumference}
                                style={{
                                    strokeDashoffset: offset,
                                    transition: 'stroke-dashoffset 1.5s ease-in-out',
                                    strokeLinecap: 'round'
                                }}
                            />
                        </svg>
                        <div className="absolute inset-0 flex flex-col items-center justify-center">
                            <span className="text-4xl font-extrabold text-slate-900">{score}</span>
                            <span className="text-slate-400 text-sm font-medium">/ 100</span>
                        </div>
                    </div>
                    <p className="mt-4 text-slate-500 font-semibold uppercase tracking-wider text-xs">Readiness Score</p>
                </div>
            );
        };

        const SkillBreakdown = () => {
            const data = [
                { subject: 'DSA', A: 75, fullMark: 100 },
                { subject: 'Sys Design', A: 60, fullMark: 100 },
                { subject: 'Comm', A: 80, fullMark: 100 },
                { subject: 'Resume', A: 85, fullMark: 100 },
                { subject: 'Aptitude', A: 70, fullMark: 100 },
            ];

            return (
                <div style={{ width: '100%', height: 300 }}>
                    <ResponsiveContainer>
                        <RadarChart cx="50%" cy="50%" outerRadius="80%" data={data}>
                            <PolarGrid stroke="#e2e8f0" />
                            <PolarAngleAxis dataKey="subject" tick={{ fill: '#64748b', fontSize: 12, fontWeight: 500 }} />
                            <PolarRadiusAxis angle={30} domain={[0, 100]} tick={false} axisLine={false} />
                            <Radar
                                name="Skills"
                                dataKey="A"
                                stroke="hsl(245, 58%, 51%)"
                                fill="hsl(245, 58%, 51%)"
                                fillOpacity={0.6}
                            />
                        </RadarChart>
                    </ResponsiveContainer>
                </div>
            );
        };

        const PracticeCard = () => (
            <div className="space-y-4">
                <div className="flex justify-between items-center">
                    <div>
                        <h4 className="font-bold text-slate-900 text-lg">Dynamic Programming</h4>
                        <p className="text-slate-500 text-sm">3 of 10 problems solved</p>
                    </div>
                    <button className="bg-primary text-white px-4 py-2 rounded-lg font-bold hover:bg-primary-dark transition-colors text-sm shadow-lg shadow-primary/20">
                        Continue
                    </button>
                </div>
                <div className="w-full bg-slate-100 rounded-full h-2.5">
                    <div className="bg-primary h-2.5 rounded-full" style={{ width: '30%' }}></div>
                </div>
            </div>
        );

        const GoalTracker = () => (
            <div className="space-y-6">
                <div>
                    <div className="flex justify-between text-sm mb-2">
                        <span className="font-bold text-slate-700">Problems Solved</span>
                        <span className="text-slate-500 font-medium">12/20 this week</span>
                    </div>
                    <div className="w-full bg-slate-100 rounded-full h-2">
                        <div className="bg-emerald-500 h-2 rounded-full" style={{ width: '60%' }}></div>
                    </div>
                </div>
                <div className="flex justify-between px-2">
                    {['M', 'T', 'W', 'T', 'F', 'S', 'S'].map((day, idx) => (
                        <div key={idx} className="flex flex-col items-center gap-2">
                            <div className={`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all ${idx < 4 ? 'bg-indigo-100 text-primary border-2 border-primary/20' : 'bg-slate-50 text-slate-400 border-2 border-slate-100'
                                }`}>
                                {idx < 4 ? <Icon name="check" size={14} /> : day}
                            </div>
                            <span className="text-[10px] font-bold text-slate-400">{day}</span>
                        </div>
                    ))}
                </div>
            </div>
        );

        const AssessmentList = () => {
            const assessments = [
                { name: 'DSA Mock Test', time: 'Tomorrow, 10:00 AM', icon: 'clipboard-list', color: 'indigo' },
                { name: 'System Design Review', time: 'Wed, 2:00 PM', icon: 'server', color: 'purple' },
                { name: 'HR Interview Prep', time: 'Friday, 11:00 AM', icon: 'users', color: 'blue' }
            ];

            return (
                <div className="space-y-4">
                    {assessments.map((item, i) => (
                        <div key={i} className="flex items-center gap-4 p-4 rounded-xl border border-slate-100 hover:border-slate-200 hover:bg-slate-50/50 transition-all cursor-pointer">
                            <div className={`w-10 h-10 rounded-lg flex items-center justify-center bg-${item.color}-50 text-${item.color}-600`}>
                                <Icon name={item.icon} size={20} />
                            </div>
                            <div className="flex-1">
                                <h4 className="font-bold text-slate-800 text-sm">{item.name}</h4>
                                <p className="text-slate-500 text-xs">{item.time}</p>
                            </div>
                            <div className="text-slate-300">
                                <Icon name="chevron-right" size={16} />
                            </div>
                        </div>
                    ))}
                </div>
            );
        };

        // --- Lucide Icon Wrapper Component ---
        const Icon = ({ name, size = 20, className = "" }) => {
            const [iconSvg, setIconSvg] = useState(null);

            useEffect(() => {
                if (window.lucide) {
                    const icon = window.lucide.icons[name];
                    if (icon) {
                        const attrs = {
                            ...icon[1],
                            width: size,
                            height: size,
                            class: `lucide lucide-${name} ${className}`
                        };
                        const children = icon[2].map((tag, i) =>
                            createElement(tag[0], { key: i, ...tag[1] })
                        );
                        setIconSvg(createElement('svg', attrs, children));
                    }
                }
            }, [name, size, className]);

            return iconSvg || <span className="w-5 h-5 inline-block" style={{ width: size, height: size }}></span>;
        };

        // --- Components ---
        const NavLink = ({ to, icon, label, collapsed }) => {
            const location = useLocation();
            const isActive = location.pathname === to;

            return (
                <Link to={to} className={`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ${isActive
                    ? 'bg-primary text-white shadow-md' : 'text-slate-600 hover:bg-slate-100 hover:text-primary'}`}>
                    <Icon name={icon} />
                    {!collapsed && <span className="font-medium">{label}</span>}
                </Link>
            );
        };

        // --- Layouts ---
        const DashboardLayout = () => {
            return (
                <div className="flex h-screen bg-slate-50 overflow-hidden text-slate-900">
                    <aside className="w-64 bg-white border-r border-slate-200 flex flex-col shrink-0">
                        <div className="p-6 border-b border-slate-200">
                            <h2 className="text-xl font-bold text-primary flex items-center gap-2">
                                <Icon name="layout" className="text-primary" />
                                Placement Prep
                            </h2>
                        </div>
                        <nav className="flex-1 p-4 space-y-2 overflow-y-auto">
                            <NavLink to="/dashboard" icon="layout-dashboard" label="Dashboard" />
                            <NavLink to="/dashboard/practice" icon="code-2" label="Practice" />
                            <NavLink to="/dashboard/assessments" icon="clipboard-check" label="Assessments" />
                            <NavLink to="/dashboard/resources" icon="library" label="Resources" />
                            <NavLink to="/dashboard/profile" icon="user" label="Profile" />
                        </nav>
                        <div className="p-4 border-t border-slate-200">
                            <Link to="/" className="flex items-center gap-3 px-3 py-2 text-slate-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                                <Icon name="log-out" />
                                <span className="font-medium">Sign Out</span>
                            </Link>
                        </div>
                    </aside>

                    <div className="flex-1 flex flex-col h-full overflow-hidden">
                        <header className="h-16 bg-white border-b border-slate-200 flex items-center justify-between px-8 shrink-0">
                            <h1 className="text-lg font-semibold text-slate-700">Placement Prep</h1>
                            <div className="flex items-center gap-4">
                                <button className="p-2 text-slate-500 hover:bg-slate-100 rounded-full transition-colors relative">
                                    <Icon name="bell" />
                                    <span className="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white"></span>
                                </button>
                                <div className="flex items-center gap-3 pl-4 border-l border-slate-200">
                                    <div className="text-right">
                                        <p className="text-sm font-medium">Anand Patil</p>
                                        <p className="text-xs text-slate-500">Candidate</p>
                                    </div>
                                    <div className="w-10 h-10 rounded-full bg-primary/10 border-2 border-primary/20 flex items-center justify-center overflow-hidden">
                                        <Icon name="user" className="text-primary" />
                                    </div>
                                </div>
                            </div>
                        </header>
                        <main className="flex-1 overflow-y-auto p-8">
                            <Outlet />
                        </main>
                    </div>
                </div>
            );
        };

        // --- Pages ---
        const DashboardPage = () => (
            <div className="max-w-7xl mx-auto space-y-8">
                <div>
                    <h2 className="text-3xl font-extrabold text-slate-900 leading-tight">Dashboard Overview</h2>
                    <p className="text-slate-500 mt-1">Ready to tackle your goals today? Here's where you stand.</p>
                </div>

                <div className="grid grid-cols-1 lg:grid-cols-12 gap-8">
                    {/* Left Column */}
                    <div className="lg:col-span-8 space-y-8">
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <Card title="Overall Readiness">
                                <ReadinessScore score={72} />
                            </Card>
                            <Card title="Skill Breakdown">
                                <SkillBreakdown />
                            </Card>
                        </div>
                        <Card title="Continue Practice">
                            <PracticeCard />
                        </Card>
                    </div>

                    {/* Right Column */}
                    <div className="lg:col-span-4 space-y-8">
                        <Card title="Weekly Goals">
                            <GoalTracker />
                        </Card>
                        <Card title="Upcoming Assessments">
                            <AssessmentList />
                        </Card>
                    </div>
                </div>
            </div>
        );

        const LandingPage = () => {
            const navigate = useNavigate();
            return (
                <div className="min-h-screen flex flex-col bg-white">
                    <nav className="flex items-center justify-between px-8 py-4 border-b border-slate-100">
                        <div className="flex items-center gap-2">
                            <Icon name="layout" className="text-primary" />
                            <span className="text-xl font-bold text-slate-900">Placement Prep</span>
                        </div>
                        <div className="flex items-center gap-6 text-sm">
                            <a href="#" className="text-slate-600 hover:text-primary font-medium">Features</a>
                            <a href="#" className="text-slate-600 hover:text-primary font-medium">About</a>
                            <button onClick={() => navigate('/dashboard')} className="bg-primary text-white px-6 py-2 rounded-full font-semibold hover:bg-primary-dark transition-all">
                                Login
                            </button>
                        </div>
                    </nav>

                    <header className="flex-1 flex flex-col items-center justify-center text-center px-4 py-20 bg-gradient-to-b from-indigo-50/50 to-white">
                        <div className="inline-block px-4 py-1.5 mb-6 text-sm font-semibold tracking-wide text-primary uppercase bg-indigo-100/50 rounded-full">
                            Your Career Starts Here
                        </div>
                        <h1 className="text-5xl md:text-7xl font-extrabold text-slate-900 mb-6 tracking-tight">
                            Ace Your <span className="text-primary">Placement</span>
                        </h1>
                        <p className="text-xl text-slate-600 max-w-2xl mb-10 leading-relaxed">
                            Practice, assess, and prepare for your dream job with our comprehensive placement readiness platform.
                        </p>
                        <button onClick={() => navigate('/dashboard')} className="bg-primary text-white px-10 py-4 rounded-full text-lg font-bold hover:bg-primary-dark transition-all hover:scale-105 shadow-xl shadow-primary/30">
                            Get Started
                        </button>
                    </header>

                    <section className="py-24 px-8 bg-slate-50/50">
                        <div className="max-w-6xl mx-auto grid md:grid-cols-3 gap-8">
                            <div className="bg-white p-8 rounded-2xl border border-slate-100 shadow-sm">
                                <div className="w-12 h-12 bg-indigo-100 text-primary rounded-xl flex items-center justify-center mb-6">
                                    <Icon name="code" size={24} />
                                </div>
                                <h3 className="text-xl font-bold mb-2">Practice Problems</h3>
                                <p className="text-slate-500">Solving coding challenges and system design questions in real-time.</p>
                            </div>
                            <div className="bg-white p-8 rounded-2xl border border-slate-100 shadow-sm">
                                <div className="w-12 h-12 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center mb-6">
                                    <Icon name="video" size={24} />
                                </div>
                                <h3 className="text-xl font-bold mb-2">Mock Interviews</h3>
                                <p className="text-slate-500">Record and review your responses with peer or AI-driven mock sessions.</p>
                            </div>
                            <div className="bg-white p-8 rounded-2xl border border-slate-100 shadow-sm">
                                <div className="w-12 h-12 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center mb-6">
                                    <Icon name="bar-chart-3" size={24} />
                                </div>
                                <h3 className="text-xl font-bold mb-2">Track Progress</h3>
                                <p className="text-slate-500">Visualize your improvement over time with detailed performance charts.</p>
                            </div>
                        </div>
                    </section>
                    <footer className="py-12 border-t border-slate-100 text-center text-slate-500 text-sm">
                        <p>Â© 2026 Placement Prep. All rights reserved.</p>
                    </footer>
                </div>
            );
        };

        const PagePlaceholder = ({ title, description }) => (
            <div className="max-w-4xl">
                <h2 className="text-2xl font-bold text-slate-900 mb-2">{title}</h2>
                <p className="text-slate-500 mb-8">{description}</p>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div className="bg-white p-6 rounded-xl border border-slate-200 h-48 flex items-center justify-center text-slate-300 italic">
                        [Module Content]
                    </div>
                </div>
            </div>
        );

        const App = () => (
            <HashRouter>
                <Routes>
                    <Route path="/" element={<LandingPage />} />
                    <Route path="/dashboard" element={<DashboardLayout />}>
                        <Route index element={<DashboardPage />} />
                        <Route path="practice" element={<PagePlaceholder title="Practice Zone" description="Improve your coding skills with daily curated problems." />} />
                        <Route path="assessments" element={<PagePlaceholder title="Assessments" description="Test your knowledge with simulated exam environments." />} />
                        <Route path="resources" element={<PagePlaceholder title="Resource Library" description="Cheat sheets, articles, and roadmaps for your preparation." />} />
                        <Route path="profile" element={<PagePlaceholder title="User Profile" description="Manage your personal information and track your achievements." />} />
                    </Route>
                </Routes>
            </HashRouter>
        );

        try {
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<App />);
        } catch (err) {
            console.error("Critical error:", err);
            document.getElementById('root').innerHTML = '<div style="color: red; padding: 20px; font-family: sans-serif;">Failed to load application. See console.</div>';
        }
    </script>
</body>

</html>